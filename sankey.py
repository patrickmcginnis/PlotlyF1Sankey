import plotly.graph_objects as go
teams = ["Redbull", "Ferrari", "Mercedes", "McLaren", 
        "Williams", "Lotus", "Renault", "HRT/Haas",
        "Force India/Racing Point/Aston Martin", "Sauber/Alfa Romeo", "Toro Rosso/Alpha Tauri", "Marussia/MRT/Virgin",
        "Caterham"]

drivers = ["Sebastian Vettel","Jenson Button","Mark Webber","Fernando Alonso","Lewis Hamilton","Felipe Massa","Nico Rosberg","Michael Schumacher", #0-7
"Adrian Sutil","Vitaly Petrov","Nick Heidfeld","Kamui Kobayashi","Paul di Resta","Jaime Alguersuari", #9-14
"Sebastien Buemi","Sergio Perez","Rubens Barrichello","Bruno Senna","Pastor Maldonado","Pedro de la Rosa","Jarno Trulli",#15-21
"Heikki Kovalainen","Vitantonio Liuzzi","Jerome d'Ambrosio","Timo Glock","Narain Karthikeyan","Daniel Ricciardo",#22-27
"Karun Chandhok","Kimi Räikkönen", "Romain Grosjean","Nico Hulkenberg","Jean-Eric Vergne","Charles Pic",
"Esteban Gutierrez","Valtteri Bottas","Jules Bianchi","Giedo van der Garde","Max Chilton",
"Kevin Magnussen","Daniil Kvyat","Marcus Ericsson","Will Stevens","Max Verstappen","Felipe Nasr",
"Carlos Sainz","Roberto Merhi","Alexander Rossi","Jolyon Palmer","Pascal Wehrlein","Stoffel Vandoorne",
"Esteban Ocon","Rio Haryanto","Lance Stroll","Pierre Gasly","Antonio Giovinazzi","Brendon Hartley",
"Charles Leclerc","Sergey Sirotkin","Alexander Albon","Lando Norris","Robert Kubica",
"George Russell","Nicholas Latifi","Jack Aitken","Pietro Fittipaldi",
"Yuki Tsunoda","Mick Schumacher","Nikita Mazepin",
]



fig = go.Figure(go.Sankey(
    arrangement = "snap",
    node = {
        #Labels are the teams
        # 0-14 Redbull, 1-15 Ferrari, 2-16 Mercedes, 3-17 McLaren,  
        # 4-18 Williams, 5-19 Lotus, 6-20 Renault, 7-21 HRT/Haas
        # 8-22 ForceINdia, 9-23 Sauber/Alfa, 10-24 Toro Rosso, 11-25 Marussia,
        # 12-26 Caterham, 13-27 EMPTY
        #
        "label" : [teams[0], teams[1], teams[2], teams[3], #0 - 3
                teams[4], teams[5], teams[6], teams[7], #4-7
                teams[8], teams[9], teams[10], teams[11],#8-11
                teams[12], "Rookie/Returning", #12, 13
                teams[0], teams[1], teams[2], teams[3], #14-17 
                teams[4], teams[5], teams[6], teams[7], #18 -21
                teams[8], teams[9], teams[10], teams[11], #22 -25
                teams[12], "Retirement/Leaving"], #26, 27
        "x": [0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1,
                0.9, 0.9, 0.9, 0.9, 0.9, 0.9, 0.9, 0.9, 0.9, 0.9, 0.9, 0.9, 0.9, 0.9],
        "y": [0.01, 0.06, 0.11, 0.16, 0.21, 0.26, 0.31, 0.36, 0.41, 0.46, 0.51, 0.56, 0.61, 0.66,
                0.01, 0.06, 0.11, 0.16, 0.21, 0.26, 0.31, 0.36, 0.41, 0.46, 0.51, 0.56, 0.61, 0.66],
        "color": ["navy", "red", "aqua", "orange",
         "royalblue", "black", "yellow", "gray",
         "pink", "maroon", "darkslategrey", "violet", 
         "green", "honeydew",
         "navy", "red", "aqua", "orange", 
         "royalblue", "black", "yellow", "gray", 
         "pink","maroon", "darkslategrey", "violet", 
         "green", "honeydew"],
        'pad':15},  # 10 Pixels
    link = {
        "source": [0, 1,
         3, 
         0, 
         1, 3, 13, 
         3,
         1, 4,
         2,
         2,
         8, 13, 8, 9, 4,
         6, 12,
         5,
         9, 13, 12,
         8, 13, 4,
         10,
         10,
         9, 3, 8,
         4,
         6, 4,
         4, 5,
         3, 7,
         5, 12,
         5, 12, 5,
         7,
         11, 5,
         11,
         7,
         7, 10, 0, 6,
         5,
         13, 5, 1, 9,
         13, 5, 7,
         8, 9, 8, 6,
         13, 10,
         13, 11, 12, 5,
         13, 9, 13, 7,
         13, 4, 2,
         13, 11,
         13, 12, 9,
         13, 11,
         13, 3, 6, 7, 13,
         13, 10, 0, 10, 13, 10,
         13, 12, 9,
         13, 12, 11,
         13, 10,
         13, 9,
         13, 10, 6, 3,
         13, 11,
         13, 11,
         13, 6,
         13, 11, 9,
         13, 3,
         13, 11, 8, 13,
         13, 11,
         13, 4,
         13, 10, 0,
         13, 9, 13, 9,
         13, 10,
         13, 9,
         13, 4,
         13, 10, 0,
         13,
         13, 4,
         13, 4,
         13,
         13, 4,
         13, 7,
         13,
         13,
         13, 7],
        "target": [15, 22, 
        27, 
        27, 
        17, 27, 20, 
        16,
        18, 27,
        27,
        27,
        27, 22, 23, 18, 27,
        26, 27,
        27,
        27, 26, 27,
        27, 18, 27,
        27,
        27,
        17, 22, 14,
        27,
        18, 27,
        19, 27,
        21, 27,
        26, 27,
        26, 19, 27,
        27,
        19, 27,
        27,
        27,
        24, 14, 20, 17,
        27,
        19, 15, 23, 27,
        19, 21, 27,
        23, 22, 21, 22,
        24, 27,
        25, 26, 19 , 27,
        23, 27, 21, 27,
        18, 16, 23,
        25, 27,
        26, 23, 27,
        25, 27,
        17, 20, 21, 27, 21,
        24, 14, 24, 27, 24, 27,
        26, 23, 27,
        26, 25, 27,
        24, 14,
        23, 27,
        24, 20, 17, 15,
        25, 27,
        25, 27,
        20, 27,
        25, 23, 27,
        17, 27,
        25, 22, 27, 20,
        25, 27,
        18, 22,
        24, 14, 24,
        23, 27, 23, 27,
        24, 27,
        23, 15,
        18, 27,
        24, 14, 18,
        17,
        18, 27,
        18, 16,
        18,
        18, 27,
        21, 27,
        24, 
        21,
        21, 27
        ],
        "value": [
        1, 1, 
        1, 
        1, 
        1, 1, 1, 
        1,
        1, 1,
        1,
        1,
        1, 1, 1, 1, 1,
        1, 1,
        1,
        1, 1, 1,
        1, 1, 1,
        1,
        1,
        1, 1, 1,
        1, 
        1, 1,
        1, 1,
        1, 1, 
        1, 1,
        1, 1, 1,
        1, 
        1, 1,
        1,
        1,
        1, 1, 1, 1,
        1,
        1, 1, 1, 1,
        1, 1, 1,
        1, 1, 1, 1,
        1, 1,
        1, 1, 1, 1,
        1, 1, 1, 1,
        1, 1, 1,
        1, 1,
        1, 1, 1,
        1, 1,
        1, 1, 1, 1, 1,
        1, 1, 1, 1, 1, 1,
        1, 1, 1,
        1, 1, 1,
        1, 1,
        1, 1,
        1, 1, 1, 1,
        1, 1,
        1, 1,
        1, 1,
        1, 1, 1,
        1, 1,
        1, 1, 1, 1,
        1, 1,
        1, 1,
        1, 1, 1,
        1, 1, 1, 1,
        1, 1,
        1, 1,
        1, 1,
        1, 1, 1,
        1,
        1, 1,
        1, 1,
        1,
        1, 1,
        1, 1,
        1,
        1,
        1, 1],
        "customdata": [
                        drivers[0]+ " (2015)", drivers[0]+ " (2021)",
                        drivers[1]+ " (2018)",
                        drivers[2]+ " (2014)",
                        drivers[3]+ " (2015)", drivers[3]+ " (2019)", drivers[3]+ "(2021)",
                        drivers[4]+ " (2013)",
                        drivers[5]+ " (2014)", drivers[5]+ " (2018)",
                        drivers[6]+ " (2017)",
                        drivers[7]+ " (2013)",
                        drivers[8]+ " (2012)", drivers[8]+ " (2013)", drivers[8]+ " (2014)", drivers[8]+ " (2015)", drivers[8]+ " (2016)",
                        drivers[9]+ " (2012)", drivers[9]+ " (2013)",
                        drivers[10]+ " (2012)",
                        drivers[11]+ " (2013)", drivers[11]+" (2014)", drivers[11]+" (2015)",
                        drivers[12]+ " (2014)", drivers[12]+" (2016)", drivers[12]+" (2018)",
                        drivers[13]+ " (2012)",
                        drivers[14]+ " (2012)",
                        drivers[15]+ " (2013)", drivers[15]+" (2014)", drivers[15]+" (2021)",
                        drivers[16]+ " (2012)",
                        drivers[17]+ " (2012)", drivers[17]+ " (2013)",
                        drivers[18]+ " (2014)", drivers[18]+ " (2016)",
                        drivers[19]+ " (2012)", drivers[19]+" (2013)",
                        drivers[20]+ " (2012)", drivers[20]+" (2013)",
                        drivers[21]+ " (2012)", drivers[21]+" (2013)", drivers[21]+" (2014)",
                        drivers[22]+ " (2012)",
                        drivers[23]+ " (2012)", drivers[23]+" (2014)",
                        drivers[24]+ " (2013)",
                        drivers[25]+ " (2013)",
                        drivers[26]+ " (2012)", drivers[26]+ " (2014)", drivers[26]+ " (2019)", drivers[26]+ " (2021)",
                        drivers[27]+ " (2012)",
                        drivers[28]+ " (2012)", drivers[28]+ " (2014)", drivers[28]+ " (2019)", drivers[28]+ " (2022)",
                        drivers[29]+ " (2012)", drivers[29]+ " (2016)", drivers[29]+ " (2021)",
                        drivers[30]+ " (2013)", drivers[30]+ " (2014)", drivers[30]+ " (2017)", drivers[30]+ " (2020)",
                        drivers[31]+ " (2012)", drivers[31]+ " (2015)",
                        drivers[32]+ " (2012)", drivers[32]+ " (2013)", drivers[32]+ " (2014)", drivers[32]+ " (2015)",
                        drivers[33]+ " (2013)", drivers[33]+ " (2015)", drivers[33]+ " (2016)", drivers[33]+ " (2017)",
                        drivers[34]+ " (2013)", drivers[34]+ " (2017)", drivers[34]+ " (2022)",
                        drivers[35]+ " (2013)", drivers[35]+ " (2015)",
                        drivers[36]+ " (2012)", drivers[36]+ " (2014)", drivers[36]+ " (2016)",
                        drivers[37]+ " (2013)", drivers[37]+ " (2015)",
                        drivers[38]+ " (2014)", drivers[38]+ " (2016)", drivers[38]+ " (2017)", drivers[38]+ " (2021)", drivers[38]+ " (2022)",
                        drivers[39]+ " (2014)", drivers[39]+ " (2015)", drivers[39]+ " (2016)", drivers[39]+ " (2018)", drivers[39]+ " (2020)", drivers[39]+ " (2021)",
                        drivers[40]+ " (2014)", drivers[40]+ " (2015)", drivers[40]+ " (2020)",
                        drivers[41]+ " (2014)", drivers[41]+ " (2015)", drivers[41]+ " (2016)",
                        drivers[42]+ " (2014)", drivers[42]+ " (2016)",
                        drivers[43]+ " (2015)", drivers[43]+ " (2017)",
                        drivers[44]+ " (2015)", drivers[44]+ " (2017)", drivers[44]+ " (2019)", drivers[44]+ " (2021)",
                        drivers[45]+ " (2015)", drivers[45]+ " (2016)", #merhi
                        drivers[46]+ " (2014)", drivers[46]+ " (2016)",
                        drivers[47]+ " (2016)", drivers[47]+ " (2018)",
                        drivers[48]+ " (2016)", drivers[48]+ " (2017)", drivers[48]+ " (2018)",
                        drivers[49]+ " (2016)", drivers[49]+ " (2019)",
                        drivers[50]+ " (2016)", drivers[50]+ " (2017)", drivers[50]+ " (2019)", drivers[50]+ " (2020)",
                        drivers[51]+ " (2016)", drivers[51]+ " (2017)",
                        drivers[52]+ " (2017)", drivers[52]+ " (2019)",
                        drivers[53]+ " (2017)", drivers[53]+ " (2019)", drivers[53]+ " (2020)",
                        drivers[54]+ " (2017)", drivers[54]+ " (2018)", drivers[54]+ " (2019)", drivers[54]+ " (2022)",
                        drivers[55]+ " (2017)", drivers[55]+ " (2019)",
                        drivers[56]+ " (2018)", drivers[56]+ " (2019)",
                        drivers[57]+ " (2018)", drivers[57]+ " (2019)",
                        drivers[58]+ " (2019)", drivers[58]+ " (2019)", drivers[58]+ " (2022)",
                        drivers[59]+ " (2019)",
                        drivers[60]+ " (2019)", drivers[60]+ " (2021)",
                        drivers[61]+ " (2019)", drivers[61]+ " (2022)",
                        drivers[62]+ " (2020)",
                        drivers[63]+ " (2020)", drivers[63]+ " (2021)",
                        drivers[64]+ " (2020)", drivers[64]+ " (2021)",
                        drivers[65]+ " (2021)",
                        drivers[66]+ " (2021)",
                        drivers[67]+ " (2021)", drivers[67]+ " (2022)"
                        ],
        "hovertemplate":'FROM    :  %{source.label}<br />'+
        'TO          :  %{target.label}<br /> DRIVER:  %{customdata}<extra></extra>',
        }))
fig.update_layout(title_text="Driver Movement Between Teams 2011-2021", font_size=10)
fig.show()